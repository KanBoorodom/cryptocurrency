{"version":3,"sources":["component/Coin.js","component/Coinsearch.js","component/SearchResult.js","component/CurrencyDropdown.js","component/Pagination.js","App.js","index.js"],"names":["Coin","name","image","symbol","price","volume","currncySelected","priceChange","d","Date","className","src","alt","href","toLowerCase","replace","toUpperCase","toLocaleString","toFixed","toLocaleTimeString","toLocaleDateString","Coinsearch","search","setSearch","setSearchAll","action","htmlFor","type","placeholder","id","value","onChange","e","target","onKeyDown","key","length","preventDefault","SearchResult","style","textAlign","CurrencyDropdown","setCurrncySelected","currency","map","c","uuid_v4","Pagination","currentPage","setCurrentPage","totalPage","i","push","onClick","parseInt","innerHTML","p","App","useState","coins","setCoins","searchAll","searchResult","setSearchResult","setCurrency","loading","setLoading","useEffect","a","axios","get","response","console","log","data","window","scrollTo","loadData","alert","searchCoin","sort","loadCurrency","filteredCoins","filter","coin","includes","large","market_data","market_cap","current_price","price_change_percentage_24h_in_currency","color","height","width","price_change_percentage_24h","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9e095556.chunk.js","sourcesContent":["import React from 'react'\r\nimport './coin.css'\r\nconst Coin = ({name,image,symbol,price,volume,currncySelected,priceChange}) => {\r\n    var d = new Date();\r\n    return (\r\n        <div className = 'coin'>\r\n            <img className = \"coin__img\" src= {image}  alt=\"crypto\" />\r\n            <div className = \"coin__data\">\r\n                <a href={`https://www.coingecko.com/en/coins/${name.toLowerCase().replace(/\\s+/g, '-')}`} className = \"coin__name\">{name} <br/>({symbol.toUpperCase()})</a>\r\n                {/* <h1 className = \"coin__name\">{name} <br/>({symbol.toUpperCase()})</h1> */}\r\n                <p className=\"coin__price\">{currncySelected} {price.toLocaleString()}</p>\r\n                <p className=\"coin__volume\">Mkt Cap <br/>{currncySelected.toUpperCase()} {volume.toLocaleString()}</p>\r\n                <p className = \"coin__priceChange\">24h change \r\n                    {priceChange > 0 ? <span className = \"coin__priceChange--green\"> +{priceChange.toFixed(2)}%</span>\r\n                        :<span className = \"coin__priceChange--red\"> {priceChange.toFixed(2)}%</span>}\r\n                </p>\r\n            </div>\r\n            <div className=\"coin__updatetime\">\r\n                <p>Last update {d.toLocaleTimeString('en-GB')}</p>\r\n                <p>{d.toLocaleDateString()}</p>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Coin\r\n","import React from 'react'\r\nimport './coinsearch.css'\r\nconst Coinsearch = ({search,setSearch,setSearchAll}) => {\r\n    const handleChange = e => {\r\n        setSearch(e.target.value)\r\n    }\r\n\r\n    const keyDown = e =>{\r\n        if(e.key === 'Enter' && search.length !== 0){\r\n            e.preventDefault()\r\n            setSearchAll(search.toLowerCase().replace(/\\s+/g, '-'))\r\n        }\r\n        else if(e.key === 'Enter' && search.length === 0){\r\n            e.preventDefault()\r\n        }\r\n        if(e.key === 'Backspace' && search.length === 1){\r\n            setSearchAll('')\r\n            setSearch('')\r\n        }\r\n    }\r\n    return (\r\n        <div className = 'coinsearch'>\r\n            <form action=\"\" className = 'coinsearch__form'>\r\n                <label htmlFor=\"searchPage\">{search === '' ? 'Search' : 'Press enter for searching'}</label>\r\n                <input type=\"text\" \r\n                    placeholder = 'Enter coin name..'\r\n                    id = 'searchPage'\r\n                    className = 'coinsearch__input'\r\n                    value = {search}\r\n                    onChange = {handleChange}\r\n                    onKeyDown = {keyDown}\r\n                />             \r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Coinsearch\r\n","import React from 'react'\r\nimport './coin.css'\r\nconst SearchResult = ({name,image,symbol,price,volume,currncySelected,priceChange}) => {\r\n    var d = new Date();\r\n    return (\r\n        <div className = 'coin searchResult'>\r\n            <h1 className = \"coin__name\" style = {{textAlign:'center'}}>{name} ({symbol.toUpperCase()})</h1>\r\n            <div className = \"coin__data searchResult__dataContainer\">\r\n                <img className = \"coin__img\" src= {image}  alt=\"crypto\" />\r\n                <div className=\"searchResult__data\">\r\n                    <p className=\"coin__price\">{currncySelected} {price.toLocaleString()}</p>\r\n                    <p className=\"coin__volume\">Mkt Cap <br/>{currncySelected.toUpperCase()} {volume.toLocaleString()}</p>\r\n                    <p className = \"coin__priceChange\">24h change \r\n                        {priceChange > 0 ? <span className = \"coin__priceChange--green\"> +{priceChange.toFixed(2)}%</span>\r\n                            :<span className = \"coin__priceChange--red\"> {priceChange.toFixed(2)}%</span>}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div className=\"coin__updatetime\">\r\n                <p>Last update {d.toLocaleTimeString('en-GB')}</p>\r\n                <p>{d.toLocaleDateString()}</p>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchResult\r\n","import React from 'react'\r\nimport { v4 as uuid_v4 } from \"uuid\" \r\nimport './currencydropdown.css'\r\nconst CurrencyDropdown = ({currncySelected,setCurrncySelected,currency}) => {\r\n    const handleChange = (e)=>{\r\n        setCurrncySelected(e.target.value)\r\n    }\r\n    return (\r\n        <select className = 'currencyDropdown__select' value = {currncySelected} onChange = {handleChange}>\r\n            <option value=\"thb\">--- Choose Currency ---</option>\r\n            {currency.map(c => \r\n                <option \r\n                    key = {uuid_v4()}\r\n                    value = {c}\r\n                >\r\n                    {c}\r\n                </option>)\r\n            }\r\n        </select>\r\n    )\r\n}\r\n\r\nexport default CurrencyDropdown\r\n","import React from 'react'\r\nimport './pagination.css'\r\nconst Pagination = ({currentPage,setCurrentPage}) => {\r\n    var totalPage = []\r\n    for(let i=1; i<11; i++){\r\n        totalPage.push(i)\r\n    }\r\n    const onClick = e =>{\r\n        setCurrentPage(parseInt(e.target.innerHTML))\r\n    }\r\n    return (\r\n        <nav>\r\n            <ul className = 'pagination__ul'>\r\n                {totalPage.map(p => \r\n                    <li \r\n                        onClick = {onClick}\r\n                        className = {`pagination__page ${currentPage === p && 'pagination__page--active'}`} \r\n                        key = {p}\r\n                    >{p} \r\n                    </li>)\r\n                }\r\n            </ul>            \r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Pagination\r\n","/* API https://www.coingecko.com/en/api/documentation */\nimport React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport Loader from \"react-loader-spinner\";\n/* https://www.npmjs.com/package/react-loader-spinner */\n\nimport './App.css';\nimport Coin from './component/Coin';\nimport Coinsearch from './component/Coinsearch';\nimport SearchResult from './component/SearchResult';\nimport CurrencyDropdown from './component/CurrencyDropdown';\nimport Pagination from './component/Pagination';\n\nfunction App() {\n  const [coins,setCoins] = useState([])\n  const [search,setSearch] = useState('')\n  const [searchAll,setSearchAll] = useState('')\n  const [searchResult,setSearchResult] = useState([])\n  const [currency,setCurrency] = useState([])\n  const [currncySelected,setCurrncySelected] = useState('thb')\n  const [loading,setLoading] = useState()\n  const [currentPage,setCurrentPage] = useState(1)\n\n  /* Fetch all coin data in page*/\n  useEffect(() => {\n    const loadData = async () => {\n      try{\n        setLoading(true)\n        const response = await axios.get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=${currncySelected}&order=market_cap_desc&per_page=30&page=${currentPage}&sparkline=false`)\n        console.log(response.data)\n        setCoins(response.data)\n        setLoading(false)\n        window.scrollTo(0,0)\n      }\n      catch (e) {\n        console.log(e)\n      }\n    }\n    loadData()\n  }, [currncySelected,currentPage])\n\n  /* Fetch custom search */\n  useEffect(()=>{\n    const searchCoin = async () => {\n      if(searchAll !== ''){\n        try{\n          setLoading(true)\n          const response = await axios.get(`https://api.coingecko.com/api/v3/coins/${searchAll}`) \n          setSearchResult(response.data)\n          setLoading(false)\n        }\n        catch (e) {\n          console.log(e)\n          alert('Coin not found...')\n          setSearch('')\n          setLoading(false)\n        }\n      }\n      else{setSearchResult([])}\n    }\n    searchCoin()\n  }\n  ,[searchAll])\n\n  /* เวลาเปลี่ยนหน้าลางค่าที่ search ไว้ */\n  useEffect(()=>{\n    setSearchAll('')\n    setSearch('')\n  },[currentPage])\n\n  /* Fetch all Currency unit*/\n  useEffect(() => {\n    const loadCurrency = async () => {\n      try{\n        const response = await axios.get('https://api.coingecko.com/api/v3/simple/supported_vs_currencies')\n        console.log(response.data)\n        setCurrency(response.data.sort())\n      }\n      catch (e) {\n        console.log(e)\n      }\n    }\n    loadCurrency()\n  }, [])\n\n  const filteredCoins = coins.filter(coin =>\n    coin.name.toLowerCase().includes(search.toLowerCase())\n  )\n\n  return (\n    <div className=\"coinapp\">\n      {searchResult.length !== 0 && <div></div>}\n      <h1 className=\"coinapp__name\">cryptocurrency</h1>\n      <Coinsearch search = {search} setSearch = {setSearch} setSearchAll = {setSearchAll}/>\n      <CurrencyDropdown \n        currncySelected = {currncySelected} \n        setCurrncySelected = {setCurrncySelected}\n        currency = {currency}\n      />\n      {search.length === 0  && <Pagination currentPage = {currentPage} setCurrentPage = {setCurrentPage}/>}\n      <div className=\"coin__container\">\n      {searchResult.length !== 0 && \n              <SearchResult \n                name = {searchResult.name}\n                image = {searchResult.image.large} \n                symbol = {searchResult.symbol}\n                volume = {searchResult.market_data.market_cap[`${currncySelected}`]}\n                currncySelected = {currncySelected}\n                price = {searchResult.market_data.current_price[`${currncySelected}`]}\n                priceChange = {searchResult.market_data.price_change_percentage_24h_in_currency[`${currncySelected}`]}  \n        />}\n        {loading ?       \n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={500}\n            width={500}\n            className = 'loader'\n          />\n          :searchResult.length === 0 ? filteredCoins.map(coin => {\n            return <Coin \n                      key = {coin.id} \n                      name = {coin.name}\n                      image = {coin.image} \n                      symbol = {coin.symbol}\n                      volume = {coin.market_cap}\n                      currncySelected = {currncySelected}\n                      price = {coin.current_price}\n                      priceChange = {coin.price_change_percentage_24h}  \n                  />\n          })\n        :''}\n      </div>\n      <Pagination currentPage = {currentPage} setCurrentPage = {setCurrentPage}/>\n      \n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}