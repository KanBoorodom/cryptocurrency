{"version":3,"sources":["component/Coin.js","component/Coinsearch.js","component/SearchResult.js","component/CurrencyDropdown.js","component/Pagination.js","App.js","index.js"],"names":["Coin","name","image","symbol","price","volume","currncySelected","priceChange","d","Date","className","src","alt","toUpperCase","toLocaleString","toFixed","toLocaleTimeString","toLocaleDateString","Coinsearch","search","setSearch","setSearchAll","action","htmlFor","type","placeholder","id","value","onChange","e","target","onKeyDown","key","length","preventDefault","replace","SearchResult","style","textAlign","CurrencyDropdown","setCurrncySelected","currency","map","c","uuid_v4","Pagination","currentPage","setCurrentPage","totalPage","i","push","onClick","parseInt","innerHTML","p","App","useState","coins","setCoins","searchAll","searchResult","setSearchResult","setCurrency","loading","setLoading","useEffect","a","axios","get","response","console","log","data","window","scrollTo","loadData","alert","searchCoin","sort","loadCurrency","filteredCoins","filter","coin","toLowerCase","includes","large","market_data","market_cap","current_price","price_change_percentage_24h_in_currency","color","height","width","price_change_percentage_24h","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.52e95067.chunk.js","sourcesContent":["import React from 'react'\r\nimport './coin.css'\r\nconst Coin = ({name,image,symbol,price,volume,currncySelected,priceChange}) => {\r\n    var d = new Date();\r\n    return (\r\n        <div className = 'coin'>\r\n            <img className = \"coin__img\" src= {image}  alt=\"crypto\" />\r\n            <div className = \"coin__data\">\r\n                <h1 className = \"coin__name\">{name} <br/>({symbol.toUpperCase()})</h1>\r\n                <p className=\"coin__price\">{currncySelected} {price.toLocaleString()}</p>\r\n                <p className=\"coin__volume\">Mkt Cap <br/>{currncySelected.toUpperCase()} {volume.toLocaleString()}</p>\r\n                <p className = \"coin__priceChange\">24h change \r\n                    {priceChange > 0 ? <span className = \"coin__priceChange--green\"> +{priceChange.toFixed(2)}%</span>\r\n                        :<span className = \"coin__priceChange--red\"> {priceChange.toFixed(2)}%</span>}\r\n                </p>\r\n            </div>\r\n            <div className=\"coin__updatetime\">\r\n                <p>Last update {d.toLocaleTimeString('en-GB')}</p>\r\n                <p>{d.toLocaleDateString()}</p>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Coin\r\n","import React from 'react'\r\nimport './coinsearch.css'\r\nconst Coinsearch = ({search,setSearch,setSearchAll}) => {\r\n    const handleChange = e => {\r\n        setSearch(e.target.value)\r\n    }\r\n\r\n    const keyDown = e =>{\r\n        if(e.key === 'Enter' && search.length !== 0){\r\n            e.preventDefault()\r\n            setSearchAll(search.replace(/\\s+/g, '-'))\r\n        }\r\n        else if(e.key === 'Enter' && search.length === 0){\r\n            e.preventDefault()\r\n        }\r\n        if(e.key === 'Backspace' && search.length === 1){\r\n            setSearchAll('')\r\n            setSearch('')\r\n        }\r\n    }\r\n    return (\r\n        <div className = 'coinsearch'>\r\n            <form action=\"\" className = 'coinsearch__form'>\r\n                <label htmlFor=\"searchPage\">{search === '' ? 'Search' : 'Enter when done'}</label>\r\n                <input type=\"text\" \r\n                    placeholder = 'Enter coin name..'\r\n                    id = 'searchPage'\r\n                    className = 'coinsearch__input'\r\n                    value = {search}\r\n                    onChange = {handleChange}\r\n                    onKeyDown = {keyDown}\r\n                />             \r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Coinsearch\r\n","import React from 'react'\r\nimport './coin.css'\r\nconst SearchResult = ({name,image,symbol,price,volume,currncySelected,priceChange}) => {\r\n    var d = new Date();\r\n    return (\r\n        <div className = 'coin searchResult'>\r\n            <h1 className = \"coin__name\" style = {{textAlign:'center'}}>{name} ({symbol.toUpperCase()})</h1>\r\n            <div className = \"coin__data searchResult__dataContainer\">\r\n                <img className = \"coin__img\" src= {image}  alt=\"crypto\" />\r\n                <div className=\"searchResult__data\">\r\n                    <p className=\"coin__price\">{currncySelected} {price.toLocaleString()}</p>\r\n                    <p className=\"coin__volume\">Mkt Cap <br/>{currncySelected.toUpperCase()} {volume.toLocaleString()}</p>\r\n                    <p className = \"coin__priceChange\">24h change \r\n                        {priceChange > 0 ? <span className = \"coin__priceChange--green\"> +{priceChange.toFixed(2)}%</span>\r\n                            :<span className = \"coin__priceChange--red\"> {priceChange.toFixed(2)}%</span>}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div className=\"coin__updatetime\">\r\n                <p>Last update {d.toLocaleTimeString('en-GB')}</p>\r\n                <p>{d.toLocaleDateString()}</p>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchResult\r\n","import React from 'react'\r\nimport { v4 as uuid_v4 } from \"uuid\" \r\nimport './currencydropdown.css'\r\nconst CurrencyDropdown = ({currncySelected,setCurrncySelected,currency}) => {\r\n    const handleChange = (e)=>{\r\n        setCurrncySelected(e.target.value)\r\n    }\r\n    return (\r\n        <select className = 'currencyDropdown__select' value = {currncySelected} onChange = {handleChange}>\r\n            <option value=\"thb\">--- Choose Currency ---</option>\r\n            {currency.map(c => \r\n                <option \r\n                    key = {uuid_v4()}\r\n                    value = {c}\r\n                >\r\n                    {c}\r\n                </option>)\r\n            }\r\n        </select>\r\n    )\r\n}\r\n\r\nexport default CurrencyDropdown\r\n","import React from 'react'\r\nimport './pagination.css'\r\nconst Pagination = ({currentPage,setCurrentPage}) => {\r\n    var totalPage = []\r\n    for(let i=1; i<11; i++){\r\n        totalPage.push(i)\r\n    }\r\n    const onClick = e =>{\r\n        setCurrentPage(parseInt(e.target.innerHTML))\r\n    }\r\n    return (\r\n        <nav>\r\n            <ul className = 'pagination__ul'>\r\n                {totalPage.map(p => \r\n                    <li \r\n                        onClick = {onClick}\r\n                        className = {`pagination__page ${currentPage === p && 'pagination__page--active'}`} \r\n                        key = {p}\r\n                    >{p} \r\n                    </li>)\r\n                }\r\n            </ul>            \r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Pagination\r\n","/* API https://www.coingecko.com/en/api/documentation */\nimport React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport Loader from \"react-loader-spinner\";\n/* https://www.npmjs.com/package/react-loader-spinner */\n\nimport './App.css';\nimport Coin from './component/Coin';\nimport Coinsearch from './component/Coinsearch';\nimport SearchResult from './component/SearchResult';\nimport CurrencyDropdown from './component/CurrencyDropdown';\nimport Pagination from './component/Pagination';\n\nfunction App() {\n  const [coins,setCoins] = useState([])\n  const [search,setSearch] = useState('')\n  const [searchAll,setSearchAll] = useState('')\n  const [searchResult,setSearchResult] = useState([])\n  const [currency,setCurrency] = useState([])\n  const [currncySelected,setCurrncySelected] = useState('thb')\n  const [loading,setLoading] = useState()\n  const [currentPage,setCurrentPage] = useState(1)\n\n  /* Fetch all coin data in page*/\n  useEffect(() => {\n    const loadData = async () => {\n      try{\n        setLoading(true)\n        const response = await axios.get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=${currncySelected}&order=market_cap_desc&per_page=30&page=${currentPage}&sparkline=false`)\n        console.log(response.data)\n        setCoins(response.data)\n        setLoading(false)\n        window.scrollTo(0,0)\n      }\n      catch (e) {\n        console.log(e)\n      }\n    }\n    loadData()\n  }, [currncySelected,currentPage])\n\n  /* Fetch custom search */\n  useEffect(()=>{\n    const searchCoin = async () => {\n      if(searchAll !== ''){\n        try{\n          setLoading(true)\n          const response = await axios.get(`https://api.coingecko.com/api/v3/coins/${searchAll}`) \n          setSearchResult(response.data)\n          setLoading(false)\n        }\n        catch (e) {\n          console.log(e)\n          alert('Coin not found...')\n          setSearch('')\n          setLoading(false)\n        }\n      }\n      else{setSearchResult([])}\n    }\n    searchCoin()\n  }\n  ,[searchAll])\n\n  /* เวลาเปลี่ยนหน้าลางค่าที่ search ไว้ */\n  useEffect(()=>{\n    setSearchAll('')\n    setSearch('')\n  },[currentPage])\n\n  /* Fetch all Currency unit*/\n  useEffect(() => {\n    const loadCurrency = async () => {\n      try{\n        const response = await axios.get('https://api.coingecko.com/api/v3/simple/supported_vs_currencies')\n        console.log(response.data)\n        setCurrency(response.data.sort())\n      }\n      catch (e) {\n        console.log(e)\n      }\n    }\n    loadCurrency()\n  }, [])\n\n  const filteredCoins = coins.filter(coin =>\n    coin.name.toLowerCase().includes(search.toLowerCase())\n  )\n\n  return (\n    <div className=\"coinapp\">\n      {searchResult.length !== 0 && <div></div>}\n      <h1 className=\"coinapp__name\">cryptocurrency</h1>\n      <Coinsearch search = {search} setSearch = {setSearch} setSearchAll = {setSearchAll}/>\n      <CurrencyDropdown \n        currncySelected = {currncySelected} \n        setCurrncySelected = {setCurrncySelected}\n        currency = {currency}\n      />\n      {search.length === 0  && <Pagination currentPage = {currentPage} setCurrentPage = {setCurrentPage}/>}\n      <div className=\"coin__container\">\n      {searchResult.length !== 0 && \n              <SearchResult \n                name = {searchResult.name}\n                image = {searchResult.image.large} \n                symbol = {searchResult.symbol}\n                volume = {searchResult.market_data.market_cap[`${currncySelected}`]}\n                currncySelected = {currncySelected}\n                price = {searchResult.market_data.current_price[`${currncySelected}`]}\n                priceChange = {searchResult.market_data.price_change_percentage_24h_in_currency[`${currncySelected}`]}  \n        />}\n        {loading ?       \n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={500}\n            width={500}\n            className = 'loader'\n          />\n          :searchResult.length === 0 ? filteredCoins.map(coin => {\n            return <Coin \n                      key = {coin.id} \n                      name = {coin.name}\n                      image = {coin.image} \n                      symbol = {coin.symbol}\n                      volume = {coin.market_cap}\n                      currncySelected = {currncySelected}\n                      price = {coin.current_price}\n                      priceChange = {coin.price_change_percentage_24h}  \n                  />\n          })\n        :''}\n      </div>\n      <Pagination currentPage = {currentPage} setCurrentPage = {setCurrentPage}/>\n      \n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}